(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},654:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(260),o=r(8203),a=r(5155),i=r.n(a),n=r(7292),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1377)),"C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1354)),"C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2538:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,6313,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},5586:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,6013,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},8373:()=>{},2293:()=>{},347:(e,t,r)=>{Promise.resolve().then(r.bind(r,1377))},6787:(e,t,r)=>{Promise.resolve().then(r.bind(r,7179))},4399:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var s=r(5512),o=r(5103);let a={src:"/_next/static/media/logo.64cdc4f2.svg",height:80,width:80,blurWidth:0,blurHeight:0};var i=r(6008);function n(){return(0,s.jsx)("div",{className:"flex items-center bg-[#222E3A] ",children:(0,s.jsxs)(i.default,{href:"/",className:"flex items-center bg-[#222E3A] ",children:[(0,s.jsx)(o.default,{src:a,width:70,height:70,alt:"Logo"}),(0,s.jsx)("h1",{className:"font-[500] text-[20px] ml-2 text-[#f8f9fa]",children:"Обнаружение животных"})]})})}},7179:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createReport:()=>f,default:()=>g,deleteReport:()=>v,getAllReports:()=>x,getReportByUid:()=>m,updateReport:()=>b});var s=r(5512),o=r(8009),a=r(5668),i=r(5103),n=r(4399),l=r(8686),c=r(6008);let d={src:"/_next/static/media/Add.407b0189.svg",height:90,width:90,blurWidth:0,blurHeight:0},p={src:"/_next/static/media/Edit.6977ac0a.svg",height:90,width:90,blurWidth:0,blurHeight:0};var u=r(4880);let h=a.A.create({baseURL:"http://localhost:8080/api/v1/",timeout:1e4});async function x(e){try{let t=await h.get("report/all");e(t.data)}catch(e){throw console.error("Ошибка при загрузке всех отчетов:",e),e}}async function m(e,t){try{let r=await h.get(`report/get/${e}`);t(r.data),console.log(r.data)}catch(t){throw console.error(`Ошибка при загрузке отчета с UID ${e}:`,t),t}}async function f(){try{let e=`Отчет ${new Date().toLocaleString()}`,t=await h.post("report/create",{title:e});return console.log("Отчет создан:",t.data),t.data}catch(e){throw console.error("Ошибка при создании отчета:",e),e}}async function b(e,t){try{let r=await h.put(`report/update/${e}`,{title:t});console.log("Отчет обновлен:",r.data)}catch(t){throw console.error(`Ошибка при обновлении отчета с UID ${e}:`,t),t}}async function v(e){try{let t=await h.delete(`report/delete/${e}`);console.log(`Отчет с UID ${e} удален:`,t.data)}catch(t){throw console.error(`Ошибка при удалении отчета с UID ${e}:`,t),t}}function g(){let[e,t]=(0,o.useState)([]),[r,a]=(0,o.useState)(null),[h,x]=(0,o.useState)(null),[m,g]=(0,o.useState)(""),[w,y]=(0,o.useState)(1),j=Math.ceil(e.length/16);(0,l.useRouter)();let C=e=>{y(e)},P=e.slice((w-1)*16,16*w),R=async()=>{try{let r=await f();t([...e,r])}catch(e){a("Ошибка при создании отчета")}},I=async r=>{try{await v(r),t(e.filter(e=>e.uid!==r))}catch(e){a("Ошибка при удалении отчета")}},k=e=>{x(e),g(e.title)},N=async()=>{if(h&&m.trim())try{await b(h.uid,m),t(e.map(e=>e.uid===h.uid?{...e,title:m}:e)),x(null),g("")}catch(e){a("Ошибка при обновлении отчета")}else a("Название отчета не может быть пустым")};return(0,s.jsxs)("div",{className:"bg-gradient-to-b from-[#485563] to-[#29323c] h-[100vh] w-full",children:[(0,s.jsx)(n.Y,{}),(0,s.jsxs)("div",{className:"container mx-auto p-4 text-white flex flex-col justify-center",children:[r&&(0,s.jsx)("p",{className:"text-red-500",children:r}),(0,s.jsxs)("div",{className:"mb-4 flex flex-row h-[50px]",children:[(0,s.jsx)("button",{onClick:R,className:"text-white",children:(0,s.jsx)(i.default,{src:d,width:50,height:50,alt:"add"})}),h&&(0,s.jsxs)("div",{className:"mb-4 mt-[5px]",children:[(0,s.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),className:"p-2 text-black",placeholder:"Редактировать название отчета"}),(0,s.jsx)("button",{onClick:N,className:"ml-2 px-4 py-2 bg-yellow-500 text-white",children:"Обновить отчет"})]})]}),(0,s.jsx)("div",{className:"flex flex-row gap-5 flex-wrap justify-evenly",children:P.map(e=>(0,s.jsxs)("div",{className:"w-[350px] bg-[#222E3A] text-wrap h-[150px] p-5 border-[1px] rounded relative overflow-y-auto overflow-x-hidden",children:[(0,s.jsxs)(c.default,{href:`/pages/report/${e.uid}`,className:"block",children:[(0,s.jsxs)("p",{className:"text-wrap",children:[(0,s.jsx)("strong",{children:"Название:"})," ",e.title]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Дата создания:"})," ",e.create_date]})]}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>k(e),className:"text-yellow-500",children:(0,s.jsx)(i.default,{className:"fill-yellow-500",src:p,width:25,height:25,alt:"edit"})}),(0,s.jsx)("button",{onClick:()=>I(e.uid),className:"text-red-500",children:(0,s.jsx)(i.default,{className:"fill-red-500",src:u.A,width:25,height:25,alt:"del"})})]})]},e.uid))}),(0,s.jsxs)("div",{className:"fixed bottom-5 left-1 w-full flex justify-center p-4",children:[(0,s.jsx)("button",{onClick:()=>C(w-1),disabled:1===w,className:"px-3 py-1 bg-[#222E3A]  text-white disabled:bg-gray-500 mx-2 rounded border-[1px]",children:"Назад"}),(0,s.jsxs)("span",{className:"mx-2",children:[w," из ",j]}),(0,s.jsx)("button",{onClick:()=>C(w+1),disabled:w===j,className:"px-3 py-1 bg-[#222E3A]  text-white disabled:bg-gray-500 mx-2 rounded border-[1px]",children:"Вперед"})]})]})]})}},1354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>l});var s=r(2740),o=r(6381),a=r.n(o),i=r(3704),n=r.n(i);r(1135);let l={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${a().variable} ${n().variable} antialiased`,children:e})})}},1377:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createReport:()=>i,default:()=>c,deleteReport:()=>l,getAllReports:()=>o,getReportByUid:()=>a,updateReport:()=>n});var s=r(6760);let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call getAllReports() from the server but getAllReports is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\page.tsx","getAllReports"),a=(0,s.registerClientReference)(function(){throw Error("Attempted to call getReportByUid() from the server but getReportByUid is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\page.tsx","getReportByUid"),i=(0,s.registerClientReference)(function(){throw Error("Attempted to call createReport() from the server but createReport is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\page.tsx","createReport"),n=(0,s.registerClientReference)(function(){throw Error("Attempted to call updateReport() from the server but updateReport is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\page.tsx","updateReport"),l=(0,s.registerClientReference)(function(){throw Error("Attempted to call deleteReport() from the server but deleteReport is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\page.tsx","deleteReport"),c=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sayki\\\\IdeaProjects\\\\DH-International-2024\\\\web-view\\\\src\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sayki\\IdeaProjects\\DH-International-2024\\web-view\\src\\app\\page.tsx","default")},4880:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={src:"/_next/static/media/Close.f7b2a5d2.svg",height:90,width:90,blurWidth:0,blurHeight:0}},440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(8077);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[989,735,43],()=>r(654));module.exports=s})();